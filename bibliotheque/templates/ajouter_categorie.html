{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5 d-flex justify-content-center mb-5">
  <div class="card shadow-sm w-100" style="max-width: 600px; border: 1px solid #ddd; border-radius: 10px;">
    <div class="card-body">
      <h2 class="card-title text-center mb-4" style="font-weight: 600; color: #000;">Ajouter une catégorie</h2>

      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        {% for field in form %}
          <div class="mb-3">
            {{ field.label_tag }}

            {% if field.field.widget.input_type == "file" %}
              <input type="file" name="{{ field.name }}" id="{{ field.id_for_label }}" class="form-control-file custom-file-btn">
            {% else %}
              {{ field }}
            {% endif %}

            {% if field.help_text %}
              <small class="form-text text-muted">{{ field.help_text }}</small>
            {% endif %}
            {% for error in field.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
        {% endfor %}

        <div class="d-flex justify-content-between mt-4">
          <button type="submit" class="btn" 
                  style="background-color: transparent; color: black; border: 1px solid black; border-radius: 5px; padding: 0.5rem 1.5rem; transition: all 0.3s;">
            Ajouter
          </button>
          <a href="{% url 'catalogue' %}" class="btn" 
             style="background-color: black; color: white; border: 1px solid black; border-radius: 5px; padding: 0.5rem 1.5rem; text-decoration: none; transition: all 0.3s;">
            Annuler
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
  /* Champs du formulaire stylisés */
  input, select, textarea {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 0.5rem;
    width: 100%;
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  input:focus, select:focus, textarea:focus {
    border-color: black;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
    outline: none;
  }

  /* Style spécial pour le champ fichier */
  .custom-file-btn {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 0.5rem;
    background-color: #f8f9fa;
    cursor: pointer;
    transition: all 0.3s;
  }

  .custom-file-btn:hover {
    background-color: #e2e6ea;
  }

  /* Hover pour les boutons classiques */
  button.btn:hover {
    background-color: black;
    color: white;
  }

  a.btn:hover {
    background-color: #333;
    color: white;
  }
</style>
{% endblock %}

