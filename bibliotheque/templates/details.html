<!DOCTYPE html>
{% load static %}
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Catalogue-BiblioTECH</title>
    <!-- MDB icon -->
    <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Google Fonts Roboto -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap"
    />
    <!-- MDB & Bootstrap -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/mdb.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
      <style>
  a.btn-sm:hover {
    background-color: #e1f8ea !important;
    color: #145227 !important;
  }
</style>


  </head>
  <body>
    <header>
      {% include '_nav.html' %}
    </header>

    <main style="padding-top: 80px;">
      <div class="container mt-5">
  <h2 class="text-center my-4" style="font-weight: 600; color: #006400;">
  {% if categorie.nom %}
    À découvrir en {{ categorie.nom }}
  {% else %}
    À découvrir ici
  {% endif %}
</h2>

        <div class="row mt-5">
          {% for livre in livres %}
          <div class="col-12 col-sm-6 col-md-3 d-flex align-items-stretch mb-4">
            <div class="card shadow w-100 d-flex flex-column">
              {% if livre.image %}
                <a href="{% url 'detail_livre' categorie_id=livre.categorie.id livre_id=livre.id %}">
                  <img src="{{ livre.image.url }}" class="card-img-top" alt="{{ livre.titre }}" style="height: 180px; object-fit: cover;">
                </a>
              {% else %}
                <a href="{% url 'detail_livre' categorie_id=livre.categorie.id livre_id=livre.id %}">
                  <div class="card-img-top d-flex align-items-center justify-content-center" style="height: 180px; background-color: #f0f0f0;">
                    <span>Aucune image</span>
                  </div>
                </a>
              {% endif %}
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">
                  <a href="{% url 'detail_livre' categorie_id=livre.categorie.id livre_id=livre.id %}" class="text-decoration-none text-dark">
                    {{ livre.titre }}
                  </a>
                </h5>
                <p class="card-text mb-1">Auteur : {{ livre.auteur }}</p>
                <p class="card-text mb-3">Date de publication : {{ livre.date_publication }}</p>
                <div class="mt-auto">
  <a href="{% url 'detail_livre' categorie.id livre.id %}"
   class="btn btn-sm"
   style="background-color: transparent; color: #1e5b34; border: 1px solid #b6e6c5; border-radius: 10px; transition: background-color 0.3s, color 0.3s;">
   Consulter
</a>

                </div>
              </div>
            </div>
          </div>
          {% empty %}
            <p class="text-center">Aucun livre disponible dans cette catégorie.</p>
          {% endfor %}
        </div>
      </div>
    </main>

    {% include '_footer.html' %}

    <!-- MDB & Bootstrap JS -->
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/mdb.umd.min.js' %}"></script>
  </body>
</html>

